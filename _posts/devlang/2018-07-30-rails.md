---
layout:     post
title:      "Rails 学习"
date:       2015-07-12
categories: devlang
author:     "xuanfour"
header-img: "img/post-bg-unix-linux.jpg"
tags:
    - development language
    - rails
---

# Rails 学习

## 目录

<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
**Table of Contents**

- [Rails 学习](#rails-学习)
    - [目录](#目录)
    - [Rails 命令](#rails-命令)
        - [命令缩写](#命令缩写)
- [创建新的项目](#创建新的项目)
- [编辑 Gemfile](#编辑-gemfile)
- [安装 gem](#安装-gem)
- [编辑说明文件](#编辑说明文件)
- [初始化 Git 仓库](#初始化-git-仓库)
- [git init](#git-init)
- [启动服务，使用 C-c 中断服务](#启动服务使用-c-c-中断服务)
- [如果有远程仓库](#如果有远程仓库)
- [如果首次推送使用](#如果首次推送使用)
- [如果再次推送使用](#如果再次推送使用)
- [有大的变更前最好新建一个分支](#有大的变更前最好新建一个分支)
- [首次推送分支到远程仓库](#首次推送分支到远程仓库)
- [修改完成后提交并合并到主分支](#修改完成后提交并合并到主分支)
    - [Rails 的前端是什么](#rails-的前端是什么)
    - [杂项](#杂项)
        - [方法](#方法)
        - [数组](#数组)
        - [值域](#值域)
        - [块](#块)
    - [References](#references)

<!-- markdown-toc end -->

## Rails 命令

### 命令缩写

| 完整命令       | 缩写命令 |
| --------       | -------- |
| bundle install | bundle   |
| rails server   | rails s  |
| rails console  | rails c  |
| rails generate | rails g  |
| rails test     | rails t  |

```bash
# 创建新的项目
rails new sample_app
cd sample_app

# 编辑 Gemfile
vim Gemfile

# 安装 gem
bundle install --without production
bundle update

# 编辑说明文件
vim README.md

# 初始化 Git 仓库
# git init
git add -A
git commit -m 'init'

# 启动服务，使用 C-c 中断服务
bin/rails server

# 如果有远程仓库
git remote add origin git@<url>:<user>/<repo>.git
# 如果首次推送使用
git push -u origin --all
# 如果再次推送使用
git push

# 有大的变更前最好新建一个分支
git checkout -b <branch-name>
# 首次推送分支到远程仓库
git push -u origin <branch-name>
# 修改完成后提交并合并到主分支
git add -A
git commit -m 'finish xxx'
git checkout master
git merge <branch-name>

# 生成控制器，命令的控制器名使用驼峰式，创建的控制器文件名是蛇底式
bin/rails generate controller <ControllerName> <action_name>
# 撤销前一个命令
bin/rails destroy controller <ControllerName> <action_name>

# 生成模型
bin/rails generate model <ModelName> <attr_name>:<type>
# 撤销前一个命令
bin/rails destory model <ModelName>

# 生成数据迁移
bin/rails db:migrate
# 撤销前一个命令
bin/rails db:rollback
# 回到最开始的状态，下面的 `0` 可以修改为其他数字以回到相应版本
bin/rails db:migrate VERSION=0

# 修改 `config/routes.rb` 增加控制器动作的路由
# 将发给 `<controller>/action` 的请求映射到控制器动作。另外，get 表达这个路由响应的是 Get 请求。
get `<controller>/action`
```


> [返回目录](#目录)

## Rails 的前端是什么

* jQuery
* UJS
* Assets pipeline
* SJR( 服务端 JS 生成技术 )
* Turoblinks( 一种极小成本实现的单页效果的技术 )

> [返回目录](#目录)

## 杂项

### 方法

* 方法后缀感叹号，表示会修改对象的值。

### 数组

```ruby
arr = [0, 1, 2]
```

* 数组的索引可以是负数，`-1` 是最后一个数组项。

### 值域

```ruby
v = 0..3
arr = ('a'..'g').to_a
av = arr[v]
```

### 块

```ruby
(1..5).each { |i| puts 2 * i }

(1..5).each do |i|
  puts 2 * i
end
```

> [返回目录](#目录)

## References

> [返回目录](#目录)
