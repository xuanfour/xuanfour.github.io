---
layout: post
title: "Org mode 编辑"
date: 2017-05-16
categories: 文本编辑
tags:
    - Org mode
excerpt:
keywords: ""
---


<p>
本文转自 Holbrook 的个人博客 <a href="https://holbrook.github.io/2012/04/12/emacs_orgmode_editor.html">https://holbrook.github.io/2012/04/12/emacs_orgmode_editor.html</a>
</p>

<p>
尽管按照 org-mode 官方 的说法，Org 是一个基于快速高效的文本方式来实现做笔记、管理待办事项（TODO list）以及做项目计划的模式（Org is a mode for keeping notes, maintaining TODO lists, and doing project planning with a fast and effective plain-text system），但 Org-mode 首先是最好的文档编辑利器，没有之一。
</p>

<p>
尽管 Omni Outliner 以 GUI 的方式实现了 org-mode 的功能，但是并不是很理想：它的内容是“所见即所得”的，很多时候你难以更改其样式，而且只能在 Mac OS 下使用。 而 Org-mode 使用文本方式，具有如下优势：
</p>

<ul class="org-ul">
<li>格式通用，系统无关，软件无关</li>
<li>体积小，速度快</li>
<li>“所想即所得”,比“所见即所得”更人性化</li>
<li>可以说，正是由于有了 Org-Mode，Emacs</li>
<li>处理文本的能力才得到了大幅度的提高，使得 Emacs 能够被非程序员接受。</li>
</ul>

<p>
如果说 LaTex 是排版的终极，那么 Org-mode 就是编辑的终极。Emacs 22 以后的版本已经集成了 org-mode，打开 .org 扩展的文件会自动进入 org 模式。此外，Vim 下面也有了对应的 Org-mode。
</p>

<p>
本文介绍最基本的编辑、格式化文本以及导出功能，后续再讨论高级玩法。
</p>


<div id="outline-container-orga71ae98" class="outline-2">
<h2 id="orga71ae98"><span class="section-number-2">1</span> 用大纲组织内容</h2>
<div class="outline-text-2" id="text-1">
<p>
尽管 Org-mode 的功能不断丰富，现在已经可以记笔记，管理个人事务，制定项目计划以及很多其他的用途，但是最初和最基本的功能还是通过大纲(outline)的方式来编辑文档。
</p>

<p>
而且，无论是笔记管理，任务管理还是项目计划的编写，都是以对内容进行高效的组织（organization)为基础的。
</p>

<p>
在编辑文档，尤其是大型文档的时候，对内容的组织就显得尤为重要。经常需要在文档中快速定位，只关注某一部分的内容，Word 之类的编辑器，通过文档结构图来定位文档位置，速度很慢，而且很多时候不能满足编辑的需要。尽管 Word 也提供了“大纲视图”，但是，唉…不说也罢，如果那个功能真的好用，也就不需要 Omni Outliner 了。
</p>

<p>
Org-mode 天然支持大纲视图，通过在文档中定义标题，可以方便的浏览每个小节，从而把握文档的总体内容。
Org 是基于 Outline 模式的，它提供了更灵活的编辑结构文件的命令。比如折叠文档，针对大纲的编辑功能等，极其强大。
</p>
</div>

<div id="outline-container-orgf9bb38f" class="outline-3">
<h3 id="orgf9bb38f"><span class="section-number-3">1.1</span> 定义标题</h3>
<div class="outline-text-3" id="text-1-1">
<p>
要实现大纲，首先要定义标题。用 emacs 新建一个 orgmode.org，输入如下内容：
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* org-mode</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* &#22823;&#32434;</span>
  &#27491;&#22312;&#32534;&#20889;&#22823;&#32434;
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* &#36731;&#37327;&#32423;&#26631;&#35760;&#35821;&#35328;</span>
<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* &#21487;&#20197;&#23548;&#20986;&#20854;&#20182;&#26684;&#24335;</span>
 &#25903;&#25345; html,pdf &#31561;&#26684;&#24335;
 &#27880;&#24847;&#65306;
<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* &#35201;&#20301;&#20110;&#27599;&#34892;&#30340;&#34892;&#39318;</span>
<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* &#20043;&#21518;&#35201;&#26377;&#19968;&#20010;&#31354;&#26684;&#65292;&#28982;&#21518;&#20877;&#36755;&#20837;&#26631;&#39064;</span>
  &#36830;&#32493;&#20960;&#20010; * &#23601;&#34920;&#31034;&#26159;&#31532;&#20960;&#32423;&#22823;&#32434;&#65292;&#26368;&#22810;&#25903;&#25345; 10 &#32423;&#12290;
</pre>
</div>

<p>
觉得没什么出奇的地方，只是改变了一些颜色？其真正的用处在于可以通过大纲操作文档，包括折叠，定位和编辑。
而这些操作都通过快捷键实现，非常有效率。尤其是对大文档。
</p>
</div>
</div>

<div id="outline-container-orgcf17774" class="outline-3">
<h3 id="orgcf17774"><span class="section-number-3">1.2</span> 大纲相关的快捷键</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org3ea7514" class="outline-4">
<h4 id="org3ea7514"><span class="section-number-4">1.2.1</span> 折叠大纲</h4>
<div class="outline-text-4" id="text-1-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">S-TAB</td>
<td class="org-left">org-shifttab</td>
<td class="org-left">循环切换整个文档的大纲状态</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">（三种状态：折叠，打开下一级，打开全部）</td>
</tr>

<tr>
<td class="org-left">TAB</td>
<td class="org-left">org-cycle</td>
<td class="org-left">循环切换光标所在大纲的状态</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org7543335" class="outline-4">
<h4 id="org7543335"><span class="section-number-4">1.2.2</span> 在大纲之间移动</h4>
<div class="outline-text-4" id="text-1-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c C-n/p</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">下/上一标题</td>
</tr>

<tr>
<td class="org-left">C-c C-f/b</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">下/上一标题（仅限同级标题）</td>
</tr>

<tr>
<td class="org-left">C-c C-u</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">跳到上一级标题</td>
</tr>

<tr>
<td class="org-left">C-c C-j</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">切换到大纲浏览状态</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgcc39fab" class="outline-4">
<h4 id="orgcc39fab"><span class="section-number-4">1.2.3</span> 基于大纲的编辑</h4>
<div class="outline-text-4" id="text-1-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">插入一个同级标题</td>
</tr>

<tr>
<td class="org-left">M-S-RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">插入一个同级 TODO 标题</td>
</tr>

<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将当前标题升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGHT</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将子树升/降级</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将子树上/下移</td>
</tr>

<tr>
<td class="org-left">C-c *</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将本行设为标题/正文</td>
</tr>

<tr>
<td class="org-left">C-c C-w</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将子树或区域移动到另一标题处（跨缓冲区）</td>
</tr>

<tr>
<td class="org-left">C-x n s/w</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">只显示当前子树/返回</td>
</tr>

<tr>
<td class="org-left">C-c C-x b</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">在新缓冲区显示当前分支（类似 C-x n s)</td>
</tr>

<tr>
<td class="org-left">C-c /</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">只列出包含搜索结果的大纲，并高亮，支持多种搜索方式</td>
</tr>

<tr>
<td class="org-left">C-c C-c</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">取消高亮</td>
</tr>
</tbody>
</table>

<p>
更多的快捷键可以通过 <code>C-c C-x C-h</code> 查看。
</p>
</div>
</div>
</div>

<div id="outline-container-orgfad16c2" class="outline-3">
<h3 id="orgfad16c2"><span class="section-number-3">1.3</span> 大纲的显示方式</h3>
<div class="outline-text-3" id="text-1-3">
<p>
默认的大纲显示没有缩进，显得有些乱。可以用 M-x org-indent-mode 切换到另一种显示方式：
</p>
</div>

<div id="outline-container-org43425b6" class="outline-4">
<h4 id="org43425b6"><span class="section-number-4">1.3.1</span> 大纲缩进</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
如果想让某个文件默认用这种方式打开，可以在文件头部增加：
</p>

<div class="org-src-container">
<pre class="src src-org">#++STARTUP: indent
</pre>
</div>

<p>
如果希望打开所有 org 文件都默认用这种方式，可以在.emacs 中配置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-startup-indented t<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-org785f028" class="outline-2">
<h2 id="org785f028"><span class="section-number-2">2</span> 超链接和图文混排</h2>
<div class="outline-text-2" id="text-2">
<p>
超链接也是组织内容的一种非常有效的方式。Org
支持多种超链接。对于符合要求的图片链接，可以形成图文混排。
</p>
</div>

<div id="outline-container-org31be3ce" class="outline-3">
<h3 id="org31be3ce"><span class="section-number-3">2.1</span> 创建链接</h3>
<div class="outline-text-3" id="text-2-1">
<p>
对于符合链接规则的内容，org-mode 会自动将其视为链接，包括括文件、网页、邮箱、新闻组、BBDB
数据库项、IRC 会话和记录等。下面是一些例子：
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #2aa1ae; text-decoration: underline;"><a href="http://www.astro.uva.nl/~dominik">http://www.astro.uva.nl/~dominik</a></span>            on the web
<span style="color: #2aa1ae; text-decoration: underline;"><a href="file:/home/dominik/images/jupiter.jpg">file:/home/dominik/images/jupiter.jpg</a></span>       file, absolute path
/home/dominik/images/jupiter.jpg            same as above
<span style="color: #2aa1ae; text-decoration: underline;"><a href="file:papers/last.pdf">file:papers/last.pdf</a></span>                        file, relative path
<span style="color: #2aa1ae; text-decoration: underline;"><a href="file:projects.org">file:projects.org</a></span>                           another Org file
<span style="color: #2aa1ae; text-decoration: underline;"><a href="docview:papers/last.pdf::NNN">docview:papers/last.pdf::NNN</a></span>                open file in doc-view mode at page NNN
id:B7423F4D-2E8A-471B-8810-C40F074717E9     Link to heading by ID
<span style="color: #2aa1ae; text-decoration: underline;"><a href="news:comp.emacs">news:comp.emacs</a></span>                             Usenet link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="mailto:adent@galaxy.net">mailto:adent@galaxy.net</a></span>                     Mail link
vm:folder                                   VM folder link
vm:folder#id                                VM message link
wl:folder#id                                WANDERLUST message link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="mhe:folder#id">mhe:folder#id</a></span>                               MH-E message link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="rmail:folder#id">rmail:folder#id</a></span>                             RMAIL message link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="gnus:group#id">gnus:group#id</a></span>                               Gnus article link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="bbdb:R.*Stallman">bbdb:R.*Stallman</a></span>                            BBDB link (with regexp)
<span style="color: #2aa1ae; text-decoration: underline;"><a href="irc:/irc.com/#emacs/bob">irc:/irc.com/#emacs/bob</a></span>                     IRC link
<span style="color: #2aa1ae; text-decoration: underline;"><a href="info:org:External%20links">info:org:External%20links</a></span>                   Info node link (with encoded space)
</pre>
</div>

<p>
对于文件链接，可以用::后面增加定位符的方式链接到文件的特定位置。定位符可以是行号或搜索选项。如：
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #2aa1ae; text-decoration: underline;"><a href="file:~/code/main.c::255">file:~/code/main.c::255</a></span>                     &#36827;&#20837;&#21040; 255 &#34892;
<span style="color: #2aa1ae; text-decoration: underline;"><a href="file:~/xx.org::My">file:~/xx.org::My</a></span> Target                    &#25214;&#21040;&#30446;&#26631;&#8216;<span style="text-decoration: underline;">&lt;&lt;My Target&gt;&gt;</span>&#8217;
<span style="color: #2aa1ae; text-decoration: underline;"><a href="file:~/xx.org/::#my-custom-id">file:~/xx.org/::#my-custom-id</a></span>               &#26597;&#25214;&#33258;&#23450;&#20041; id &#30340;&#39033;
</pre>
</div>

<p>
除了上述的自动链接外，还可以显示指定链接，采用如下格式：
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #2aa1ae; text-decoration: underline;"><a href="link">description</a></span>
<span style="color: #2aa1ae; text-decoration: underline;"><a href="link">link</a></span>
</pre>
</div>

<p>
显示指定的链接可以不显示原始的 URL 而是显示对该链接的描述。
这种方式可以用相对路径链接本地文件。
</p>

<p>
对于显示指定的链接，即可以手工输入，也可以用 org-mode 提供的快捷键进行编辑：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c l</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">保存链接</td>
</tr>

<tr>
<td class="org-left">C-c C-l</td>
<td class="org-left">org-insert-link</td>
<td class="org-left">创建或修改链接，可以引用已保存的链接</td>
</tr>

<tr>
<td class="org-left">C-c C-o</td>
<td class="org-left">org-open-at-point</td>
<td class="org-left">打开链接</td>
</tr>

<tr>
<td class="org-left">C-c %</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">记录内部链接地址</td>
</tr>

<tr>
<td class="org-left">C-c &amp;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">跳转到已记录的内部链接</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org229a93e" class="outline-3">
<h3 id="org229a93e"><span class="section-number-3">2.2</span> 内部链接</h3>
<div class="outline-text-3" id="text-2-2">
<p>
前面的例子都是外部链接，Org-mode 还支持内部链接：
</p>

<div class="org-src-container">
<pre class="src src-org">&#23450;&#20041;&#38170;&#28857; #<span style="text-decoration: underline;">&lt;&lt;my-anchor&gt;&gt;</span>
<span style="color: #2aa1ae; text-decoration: underline;"><a href="my-anchor">&#20869;&#37096;&#38142;&#25509;</a></span>
</pre>
</div>

<p>
脚注可以看作是一种特殊的内部链接，但是要求具有"fn:"前缀：
</p>

<div class="org-src-container">
<pre class="src src-org">  &#28155;&#21152;&#33050;&#27880;&#38142;&#25509; <span style="color: #2aa1ae; text-decoration: underline;"><a href="fn:footprint1">&#33050;&#27880; 1</a></span>
  &#23450;&#20041;&#33050;&#27880; <span style="color: #b2b2b2; text-decoration: underline;">[fn:footprint1]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9a33233" class="outline-3">
<h3 id="org9a33233"><span class="section-number-3">2.3</span> 显示图片</h3>
<div class="outline-text-3" id="text-2-3">
<p>
尽管不看重"所见即所得"，但有时候能够看到图文混排的内容还是很有必要的。通过 iimage 这个 minor mode，可以在 Org-mode 中显示图片。 下载 iimage.el 文件扔到 Emacs 的目录里，然后在 .emacs 里添加下面的代码：
</p>

<div class="org-src-container">
<pre class="src src-org">;; iimage mode
(autoload 'iimage-mode "iimage" "Support Inline image minor mode." t)
(autoload 'turn-on-iimage-mode "iimage" "Turn on Inline image minor mode." t)
</pre>
</div>

<p>
然后就可以用命令 M-x iimage-mode RET 在当前模式里启动 iimage 这个 minor mode。
iimage-mode 目前只能显示以文件方式链接的图片。
</p>
</div>
</div>
</div>


<div id="outline-container-org709ce13" class="outline-2">
<h2 id="org709ce13"><span class="section-number-2">3</span> 轻量级标记语言</h2>
<div class="outline-text-2" id="text-3">
<p>
前面的大纲和超链接都是使用标记来定义的。实际上，Org 现在已经成为一种专门的轻量级标记语言，与 Markdown、reStructedText、Textile、RDoc、MediaWiki 等并列。
</p>

<p>
相对于重量级标记语言（如 html, xml)，轻量级标记语言的语法简单，书写容易。即使不经过渲染，也可以很容易阅读。用途越来越广泛。 比如，gitHub 的 README 文档除了支持纯文本外，还支持丰富的轻量级标记语言，其中就包括 Org。
</p>

<p>
关于这些语言的对比，可以参考这里。下面来看一下 Org 还支持哪些标记。
</p>
</div>


<div id="outline-container-org0e44050" class="outline-3">
<h3 id="org0e44050"><span class="section-number-3">3.1</span> 字体</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-org"><span style="font-weight: bold;">*&#31895;&#20307;*</span>
<span style="font-style: italic;">/&#26012;&#20307;/</span>
<span style="text-decoration: line-through;">+&#21024;&#38500;&#32447;+</span>
<span style="text-decoration: underline;">_&#19979;&#21010;&#32447;_</span>
&#19979;&#26631;&#65306;H_2 O
&#19978;&#26631;&#65306;E=mc^2
&#31561;&#23485;&#23383;&#65306;  <span style="color: #4f97d7;">=git=</span>  &#25110;&#32773; &#65374;git&#65374;
</pre>
</div>
</div>
</div>

<div id="outline-container-org37ffddd" class="outline-3">
<h3 id="org37ffddd"><span class="section-number-3">3.2</span> 表格</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Org 能够很容易地处理 ASCII 文本表格。任何以‘|‘为首个非空字符的行都会被认为是表格的一部分。’|‘也是列分隔符。一个表格是下面的样子：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-right">Pone</th>
<th scope="col" class="org-right">Age</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">1234</td>
<td class="org-right">17</td>
</tr>

<tr>
<td class="org-left">Anna</td>
<td class="org-right">4321</td>
<td class="org-right">25</td>
</tr>
</tbody>
</table>

<p>
你可能认为要录入这样的表格很繁琐，实际上你只需要输入表头“|Name|Pone|Age”之后，按 C-c RET,就可以生成整个表格的结构。类似的快捷键还有很多：
</p>
</div>

<div id="outline-container-org27fbd65" class="outline-4">
<h4 id="org27fbd65"><span class="section-number-4">3.2.1</span> 创建和转换表格</h4>
<div class="outline-text-4" id="text-3-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c 竖线</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">创建或转换成表格</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org34effeb" class="outline-4">
<h4 id="org34effeb"><span class="section-number-4">3.2.2</span> 调整和区域移动</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
快捷键 命令 说明
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c C-c</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">调整表格，不移动光标</td>
</tr>

<tr>
<td class="org-left">TAB</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动到下一区域，必要时新建一行</td>
</tr>

<tr>
<td class="org-left">S-TAB</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动到上一区域</td>
</tr>

<tr>
<td class="org-left">RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动到下一行，必要时新建一行</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org24d4361" class="outline-4">
<h4 id="org24d4361"><span class="section-number-4">3.2.3</span> 编辑行和列</h4>
<div class="outline-text-4" id="text-3-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动列</td>
</tr>

<tr>
<td class="org-left">M-UP/DOWN</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动行</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGHT</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">删除/插入列</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">删除/插入行</td>
</tr>

<tr>
<td class="org-left">C-c -</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">添加水平分割线</td>
</tr>

<tr>
<td class="org-left">C-c RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">添加水平分割线并跳到下一行</td>
</tr>

<tr>
<td class="org-left">C-c ^</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">根据当前列排序，可以选择排序方式</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org3fb5da1" class="outline-3">
<h3 id="org3fb5da1"><span class="section-number-3">3.3</span> 段落</h3>
<div class="outline-text-3" id="text-3-3">
<p>
对于单个回车换行的文本，认为其属于同一个段落。在导出的时候将会转化为不换行的同一段。如果要新起一个段落，需要留出一个空行。这点与 MediaWiki 类似。
</p>
</div>


<div id="outline-container-orgaf697e8" class="outline-4">
<h4 id="orgaf697e8"><span class="section-number-4">3.3.1</span> 列表</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
Org 能够识别有序列表、无序列表和描述列表。
</p>

<ul class="org-ul">
<li>无序列表项以 - 、=+= 或者 * 开头。</li>
<li>有序列表项以 1. 或者 1) 开头。</li>
<li id="描述列表用">将项和描述分开。</li>
<li>有序列表和无序列表都以缩进表示层级。只要对齐缩进，不管是换行还是分块都认为是处于当前列表项。</li>
<li>同一列表中的项的第一行必须缩进相同程度。当下一行的缩进与列表项的的开头的符号或者数字相同或者更小时，这一项就结束了。</li>
<li>当所有的项都关上时，或者后面有两个空行时，列表就结束了。例如：</li>
</ul>

<div class="org-src-container">
<pre class="src src-org">My favorite scenes are (in this order)
1. The attack of the Rohirrim
2. Eowyn's fight with the witch king
   + this was already my favorite scene in the book
   + I really like Miranda Otto.
Important actors in this film are:
- <span style="font-weight: bold;">Elijah Wood ::</span> He plays Frodo
- <span style="font-weight: bold;">Sean Austin ::</span> He plays Sam, Frodo's friend.
</pre>
</div>

<p>
将显示为：
</p>

<p>
My favorite scenes are (in this order)
</p>
<ol class="org-ol">
<li>The attack of the Rohirrim</li>
<li><p>
Eowyn's fight with the witch king
</p>
<ul class="org-ul">
<li>this was already my favorite scene in the book</li>
<li>I really like Miranda Otto.</li>
</ul>
<p>
Important actors in this film are:
</p>
<dl class="org-dl">
<dt>Elijah Wood</dt><dd>He plays Frodo</dd>
<dt>Sean Austin</dt><dd>He plays Sam, Frodo's friend.</dd>
</dl></li>
</ol>
</div>


<div id="outline-container-org9df19c7" class="outline-5">
<h5 id="org9df19c7"><span class="section-number-5">3.3.1.1</span> 列表操作快捷键</h5>
<div class="outline-text-5" id="text-3-3-1-1">
<p>
为了便利，org-mode 也支持很多列表操作的快捷键，大部分都与大纲的快捷键类似：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">TAB</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">折叠列表项</td>
</tr>

<tr>
<td class="org-left">M-RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">插入项</td>
</tr>

<tr>
<td class="org-left">M-S-RET</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">插入带复选框的项</td>
</tr>

<tr>
<td class="org-left">M-S-UP/DOWN</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">移动列表项</td>
</tr>

<tr>
<td class="org-left">M-LEFT/RIGHT</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">升/降级列表项，不包括子项</td>
</tr>

<tr>
<td class="org-left">M-S-LEFT/RIGTH</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">升/降级列表项，包括子项</td>
</tr>

<tr>
<td class="org-left">C-c C-c</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">改变复选框状态</td>
</tr>

<tr>
<td class="org-left">C-c -</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">更换列表标记（循环切换）</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-org88f4a75" class="outline-4">
<h4 id="org88f4a75"><span class="section-number-4">3.3.2</span> 分隔线</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
五条短线或以上显示为分隔线。
</p>

<div class="org-src-container">
<pre class="src src-org">-----
</pre>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-orgad058bf" class="outline-2">
<h2 id="orgad058bf"><span class="section-number-2">4</span> 标签</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orge98e45b" class="outline-3">
<h3 id="orge98e45b"><span class="section-number-3">4.1</span> tag 的作用</h3>
<div class="outline-text-3" id="text-4-1">
<p>
对于信息的管理，有分类(category)和标签(tag)两种方式。这两种方式各有特点：
</p>

<p>
通常分类是固定的，很少变化，而 tag 随时可以增加。
分类通常表现为树状结构，比较清晰，但是树状结构过于简单，不能表达复杂的信息。比如，如果有多个分类树，处理起来就会比较麻烦。
</p>

<p>
所以，这两种方式通常结合起来使用。比如 blog 系统中，通常既支持文章的分类（树），又支持为每篇文章作 tag 标记。
</p>

<p>
org-mode 作为 最好的文档编辑利器，在支持文内大纲（也是树状结构）的同时，还方便的支持 tag 功能。tag 可以在多篇文档中共用。
</p>
</div>
</div>


<div id="outline-container-org43d16c0" class="outline-3">
<h3 id="org43d16c0"><span class="section-number-3">4.2</span> 标记 tag</h3>
<div class="outline-text-3" id="text-4-2">
<p>
在 Org-mode 中，可以对标题增加 tag 标记。标记的格式如下：
</p>

<div class="org-src-container">
<pre class="src src-org">  &#36319;&#29305;&#30041;&#23612;&#35199;&#29305;&#25569;&#25163;                    :&#33510;&#24046;:&#34218;&#27700;:&#36867;&#19981;&#25481;:
</pre>
</div>

<p>
而且 Org-mode 的标签自动按照大纲树的结构继承。即子标题自动继承父标题的标签。比如：
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Meeting with the French group     </span><span style="color: #9f8766; font-size: 130%; font-weight: bold;">:work:</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Summary by Frank                 </span><span style="color: #9f8766; font-size: 120%; font-weight: bold;">:boss:notes:</span>
<span style="color: #292b2e;">**</span><span style="color: #67b11d; font-size: 110%;">* </span><span style="color: #dc752f;">TODO</span><span style="color: #67b11d; font-size: 110%;"> Prepare slides for him     </span><span style="color: #9f8766; font-size: 110%;">:action:</span>
</pre>
</div>

<p>
则最后一行标题具有 work, boss, notes, action 四个标签。
</p>

<p>
如果希望文档中的所有标题都具有某些标签，只需要定义文档元数据：
</p>

<div class="org-src-container">
<pre class="src src-org">#++FILETAGS: :Peter:Boss:Secret:
</pre>
</div>

<p>
如果手工输入标签，在标题后设置标签，键入:后，M-Tab 自动提供标签的补齐。
</p>

<p>
更方便的做法是在正文部分用 C-c C-q 或直接在标题上用 C-c C-c 创建标签，这种方式可以列出所有预定义的标签以便选取。
</p>
</div>
</div>


<div id="outline-container-org624f751" class="outline-3">
<h3 id="org624f751"><span class="section-number-3">4.3</span> 预定义 tag</h3>
<div class="outline-text-3" id="text-4-3">
<p>
上面提到，除了可以输入标签外，还可以从预定义的标签中进行选择。预定义的方式有两种：
</p>
</div>


<div id="outline-container-org6fd4f10" class="outline-4">
<h4 id="org6fd4f10"><span class="section-number-4">4.3.1</span> 在当前文件头部定义</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
这种方式预定义的标签只能在当前文件中使用。使用 <code>#+TAGS</code> 元数据进行标记，如：
</p>

<div class="org-src-container">
<pre class="src src-org">#++TAGS: { &#26700;&#38754;(d) &#26381;&#21153;&#22120;(s) }  &#32534;&#36753;&#22120;(e) &#27983;&#35272;&#22120;(f) &#22810;&#23186;&#20307;(m) &#21387;&#32553;(z)
</pre>
</div>

<p>
每项之间必须用空格分隔，可以在括号中定义一个快捷键；花括号里的为标签组，只能选择一个。
</p>

<p>
对标签定义进行修改后，要在标签定义的位置按 C-c C-c 刷新才能生效。
</p>
</div>
</div>


<div id="outline-container-orgd50e55a" class="outline-4">
<h4 id="orgd50e55a"><span class="section-number-4">4.3.2</span> 在配置文件中定义</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
上面的标签定义只能在当前文件生效，如果要在所有的 .org 文件中生效，需要在 Emacs 配置文件 .emacs 中进行定义：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-tag-alist '<span style="color: #bc6ec5;">(</span>
                      <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:startgroup</span> . nil<span style="color: #2d9574;">)</span>
                      <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"&#26700;&#38754;"</span> . ?d<span style="color: #2d9574;">)</span> <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"&#26381;&#21153;&#22120;"</span> . ?s<span style="color: #2d9574;">)</span>
                      <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:endgroup</span> . nil<span style="color: #2d9574;">)</span>
                      <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"&#32534;&#36753;&#22120;"</span> . ?e<span style="color: #2d9574;">)</span>
                      <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"&#27983;&#35272;&#22120;"</span> . ?f<span style="color: #2d9574;">)</span>
                      <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"&#22810;&#23186;&#20307;"</span> . ?m<span style="color: #2d9574;">)</span>
                      <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
默认情况下，org 会动态维护一个 Tag 列表，即当前输入的标签若不在列表中，则自动加入列表以供下次补齐使用。
</p>

<p>
为了使这几种情况（默认列表、文件预设 tags，全局预设 tags）同时生效，需要在文件中增加一个空的 TAGS 定义：
</p>

<div class="org-src-container">
<pre class="src src-org">#++TAGS:
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgfc8cf08" class="outline-3">
<h3 id="orgfc8cf08"><span class="section-number-3">4.4</span> 按 tag 搜索</h3>
<div class="outline-text-3" id="text-4-4">
<p>
使用标签可以更好的管理内容。org-mode 提供了以下功能：
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">KEYS</th>
<th scope="col" class="org-left">COMMENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c \</td>
<td class="org-left">按 tag 搜索标题</td>
</tr>

<tr>
<td class="org-left">C-c / m</td>
<td class="org-left">搜索并按树状结构显示</td>
</tr>

<tr>
<td class="org-left">C-c a m</td>
<td class="org-left">按标签搜索多个文件（需要将文件加入全局 agenda)</td>
</tr>
</tbody>
</table>

<p>
可以使用逻辑表达式限制条件，更准确灵活的搜索
</p>

<pre class="example">
+     和   a+b     同时有这两个标签
-     排除  a-b     有 a 但没有 b
|     或   a|b     有 a 或者有 b
&amp;     和   a&amp;b     同时有 a 和 b，可以用“+”替代
</pre>

<p>
在查询视图中 C-c C-c 退出。
</p>
</div>
</div>
</div>


<div id="outline-container-orge02cc05" class="outline-2">
<h2 id="orge02cc05"><span class="section-number-2">5</span> 导出和发布</h2>
<div class="outline-text-2" id="text-5">
<p>
更多：<a href="http://orgmode.org/manual/Exporting.html">http://orgmode.org/manual/Exporting.html</a>
</p>

<p>
Org-mode 可以完美的编辑，但是最终文档可能需要发布成其他的格式。
Org-Mode 支持多种文档的输出，包括：
</p>

<ul class="org-ul">
<li>文本</li>
<li>网页</li>
<li>PDF（需要 Latex 支持）</li>
<li>XOXO</li>
<li>FreeMind/Xmind</li>
<li>Docbook</li>
<li>iCalendar（苹果 iCal 文件）</li>
<li>…</li>
</ul>
</div>


<div id="outline-container-org56f8986" class="outline-3">
<h3 id="org56f8986"><span class="section-number-3">5.1</span> 准备工作</h3>
<div class="outline-text-3" id="text-5-1">
<p>
为了更好的发布文档，还需要做一些准备工作。主要是为文档添加一些”元数据“，使得发布的时候能更好地识别文档的内容。
</p>
</div>


<div id="outline-container-org0754511" class="outline-4">
<h4 id="org0754511"><span class="section-number-4">5.1.1</span> 文档元数据</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
具体包括：
</p>

<div class="org-src-container">
<pre class="src src-org">#++TITLE:       the title to be shown (default is the buffer name)
#++AUTHOR:      the author (default taken from user-full-name)
#++DATE:        a date, an Org timestamp1, or a format string for format-time-string
#++EMAIL:       his/her email address (default from user-mail-address)
#++DESCRIPTION: the page description, e.g. for the XHTML meta tag
#++KEYWORDS:    the page keywords, e.g. for the XHTML meta tag
#++LANGUAGE:    language for HTML, e.g. &#8216;en&#8217; (org-export-default-language)
#++TEXT:        Some descriptive text to be inserted at the beginning.
#++TEXT:        Several lines may be given.
#++OPTIONS:     H:2 num:t toc:t \n:nil @:t ::t |:t ^:t f:t TeX:t ...
#++BIND:        lisp-var lisp-val, e.g.: org-export-latex-low-levels itemizeou need to confirm using these, or configure org-export-allow-BIND
#++LINK_UP:              the ``up'' link of an exported page
#++LINK_HOME:            the ``home'' link of an exported page
#++LATEX_HEADER:         extra line(s) for the LaTeX header, like \usepackage{xyz}
#++EXPORT_SELECT_TAGS:   Tags that select a tree for export
#++EXPORT_EXCLUDE_TAGS:  Tags that exclude a tree from export
#++XSLT:                 the XSLT stylesheet used by DocBook exporter to generate FO file
</pre>
</div>

<p>
其中 <code>#+OPTIONS</code> 是复合的选项，包括：
</p>

<div class="org-src-container">
<pre class="src src-org">H:         set the number of headline levels for export
num:       turn on/off section-numbers
toc:       turn on/off table of contents, or set level limit (integer)
\n:        turn on/off line-break-preservation (DOES NOT WORK)
@:         turn on/off quoted HTML tags
::         turn on/off fixed-width sections
<span style="color: #b2b2b2; background-color: #293239;">|:         turn on/off tables</span>
^:         turn on/off TeX-like syntax for sub- and superscripts.  If
you write "^:{}", a_{b} will be interpreted, but
the simple a_b will be left as it is.
-:         turn on/off conversion of special strings.
f:         turn on/off footnotes like this[1].
todo:      turn on/off inclusion of <span style="color: #dc752f;">TODO</span> keywords into exported text
tasks:     turn on/off inclusion of tasks (<span style="color: #dc752f;">TODO</span> items), can be nil to remove
all tasks, todo to remove <span style="color: #86dc2f;">DONE</span> tasks, or list of kwds to keep
pri:       turn on/off priority cookies
tags:      turn on/off inclusion of tags, may also be not-in-toc
&lt;:         turn on/off inclusion of any time/date stamps like DEADLINES
*:         turn on/off emphasized text (bold, italic, underlined)
TeX:       turn on/off simple TeX macros in plain text
LaTeX:     configure export of LaTeX fragments.  Default auto
skip:      turn on/off skipping the text before the first heading
author:    turn on/off inclusion of author name/email into exported file
email:     turn on/off inclusion of author email into exported file
creator:   turn on/off inclusion of creator info into exported file
timestamp: turn on/off inclusion creation time into exported file
d:         turn on/off inclusion of drawers
</pre>
</div>

<p>
这些元数据可以根据需要设置。建议放在文档的开头部分。如，本文采用的元数据如下：
</p>

<div class="org-src-container">
<pre class="src src-org">#++TITLE: org-mode: &#26368;&#22909;&#30340;&#25991;&#26723;&#32534;&#36753;&#21033;&#22120;&#65292;&#27809;&#26377;&#20043;&#19968;
#++AUTHOR:Holbrook Wong
#++EMAIL: wanghaikuo@gmail.com
#++KEYWORDS: emacs, org-mode
#++OPTIONS: H:4 toc:t
</pre>
</div>
</div>
</div>


<div id="outline-container-org100a277" class="outline-4">
<h4 id="org100a277"><span class="section-number-4">5.1.2</span> 内容元数据</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
通常在行首以 <code>#+</code> 开头，可以有多种用途。创建内容元数据的区块可以用快捷键 <code>&lt; ? TAB=，其中 =?</code> 为首字母，在下面的标题中列出。
</p>
</div>

<div id="outline-container-org89f2a68" class="outline-5">
<h5 id="org89f2a68"><span class="section-number-5">5.1.2.1</span> (v)分行区块</h5>
<div class="outline-text-5" id="text-5-1-2-1">
<p>
默认内容不换行，需要留出空行才能换行。定义了分行的区块可以实现普通换行：
</p>

<div class="org-src-container">
<pre class="src src-org">#++begin_verse
Great clouds overhead
Tiny black birds rise and fall
Snow covers Emacs
    -- AlexSchroeder
#++end_verse
</pre>
</div>
</div>
</div>

<div id="outline-container-org988a2b4" class="outline-5">
<h5 id="org988a2b4"><span class="section-number-5">5.1.2.2</span> (q)引用区块</h5>
<div class="outline-text-5" id="text-5-1-2-2">
<p>
通常用于引用，与默认格式相比左右都会留出缩进：
</p>

<div class="org-src-container">
<pre class="src src-org">#++begin_quote
&#32553;&#36827;&#21306;&#22359;
#++end_quote
</pre>
</div>
</div>
</div>

<div id="outline-container-org0015cab" class="outline-5">
<h5 id="org0015cab"><span class="section-number-5">5.1.2.3</span> (c)居中区块</h5>
<div class="outline-text-5" id="text-5-1-2-3">
<div class="org-src-container">
<pre class="src src-org">#++begin_center
Everything should be made as simple as possible, \\
but not any simpler
#++end_center
</pre>
</div>
</div>
</div>

<div id="outline-container-org751d757" class="outline-5">
<h5 id="org751d757"><span class="section-number-5">5.1.2.4</span> (s)代码区块</h5>
<div class="outline-text-5" id="text-5-1-2-4">
<div class="org-src-container">
<pre class="src src-ruby"><span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">++begin_src ruby</span>
<span style="color: #4f97d7;">require</span> <span style="color: #2d9574;">'redcarpet'</span>
md = <span style="color: #ce537a; font-weight: bold;">Redcarpet</span>.new<span style="color: #4f97d7;">(</span><span style="color: #2d9574;">"Hello, world."</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">puts</span> md.to_html
</pre>
</div>
<p>
#+end_src
</p>
</div>
</div>

<div id="outline-container-orgab243cb" class="outline-5">
<h5 id="orgab243cb"><span class="section-number-5">5.1.2.5</span> (e)例子</h5>
<div class="outline-text-5" id="text-5-1-2-5">
<div class="org-src-container">
<pre class="src src-org"><span style="color: #28def0;">: &#21333;&#34892;&#30340;&#20363;&#23376;&#20197;&#20882;&#21495;&#24320;&#22836;</span>
#++begin_example
 &#22810;&#34892;&#30340;&#20363;&#23376;
 &#20351;&#29992;&#21306;&#22359;
#++end_example
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba332c6" class="outline-5">
<h5 id="orgba332c6"><span class="section-number-5">5.1.2.6</span> (a)ASCII 码</h5>
<div class="outline-text-5" id="text-5-1-2-6">
<div class="org-src-container">
<pre class="src src-org"><span style="color: #dc752f;">TODO</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb5759fc" class="outline-5">
<h5 id="orgb5759fc"><span class="section-number-5">5.1.2.7</span> 表格与图片</h5>
<div class="outline-text-5" id="text-5-1-2-7">
<p>
对于表格和图片，可以在前面增加标题和标签的说明，以方便交叉引用。
比如在表格的前面添加：
</p>

<div class="org-src-container">
<pre class="src src-org">#++CAPTION: This is the caption for the next table (or link)
#++LABEL: tbl:table1
</pre>
</div>

<p>
则在需要的地方可以通过 <code>ref{table1}</code> 来引用该表格。
</p>
</div>
</div>

<div id="outline-container-orgb9868b8" class="outline-5">
<h5 id="orgb9868b8"><span class="section-number-5">5.1.2.8</span> (h)嵌入 Html</h5>
<div class="outline-text-5" id="text-5-1-2-8">
<p>
对于导出 html 以及发布，嵌入 html 代码就很有用。比如下面的例子适用于格式化为 cnblogs 的代码块：
</p>

<div class="org-src-container">
<pre class="src src-org">#++begin_export html
&lt;div class="cnblogs_Highlighter"&gt;
&lt;pre class="brush:cpp"&gt;
int main()
{
return 0;
}
&lt;/pre&gt;
&lt;/div&gt;
#++end_export
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org8e7934d" class="outline-4">
<h4 id="org8e7934d"><span class="section-number-4">5.1.3</span> 包含文件</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
当导出文档时，你可以包含其他文件中的内容。比如，想包含你的“.emacs”文件，你可以用：
</p>

<div class="org-src-container">
<pre class="src src-org">#++INCLUDE: "~/.emacs" src emacs-lisp
</pre>
</div>

<p>
可选的第二个第三个参数是组织方式（例如，“quote”，“example”，或者“src”），如果是 “src”，语言用来格式化内容。组织方式是可选的，如果不给出，文本会被当作 Org 模式的正常处理。用 C-c ,可以访问包含的文件。
</p>
</div>
</div>


<div id="outline-container-orge9431e3" class="outline-4">
<h4 id="orge9431e3"><span class="section-number-4">5.1.4</span> 嵌入 LaTex</h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
对于需要包含数学符号和特殊方程的科学笔记，Org 模式支持嵌入 LaTeX 代码到文件中。你可以直接使用类 TeX 的宏来输入特殊符号，输入方程，或者整个 LaTeX 环境。
</p>

<div class="org-src-container">
<pre class="src src-org">Angles are written as Greek letters \alpha, \beta and \gamma. The mass if
the sun is M_sun = 1.989 x 10^30 kg. The radius of the sun is R_{sun} =
6.96 x 10^8 m. If$a^2=b$and$b=2$, then the solution must be either
$a=+\sqrt{2}$or$a=-\sqrt{2}$.
\begin{equation}
x=\sqrt{b}
\end{equation}
</pre>
</div>

<p>
特殊设置之后，导出 HTML 时 LaTeX 代码片断会生成图片并包含进来。
</p>
</div>
</div>
</div>


<div id="outline-container-org14544f9" class="outline-3">
<h3 id="org14544f9"><span class="section-number-3">5.2</span> 导出</h3>
<div class="outline-text-3" id="text-5-2">
<p>
做好准备工作后，就可以导出了。使用命令：C-c C-e 然后选择相应的格式，就可以导出对应的文件了。
</p>
</div>
</div>


<div id="outline-container-org7cf7f76" class="outline-3">
<h3 id="org7cf7f76"><span class="section-number-3">5.3</span> 发布</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Org 包含一个发布管理系统，可以配置一个由相互链接的 Org 文件组成的工程项目的自动向 HTML 转换。你也可以设置 Org， 将导出的 HTML 页面和相应的附件如图片，源代码文件等自动上传到服务器。
下面是一个例子：
</p>

<div class="org-src-container">
<pre class="src src-org">(setq org-publish-project-alist
'(("org"
:base-directory "~/org/"
:publishing-directory "~/public_html"
:section-numbers nil
:table-of-contents nil
:style "&lt;link rel=\"stylesheet\"
href=\"../other/mystyle.css\"
type=\"text/css\"/&gt;")))
</pre>
</div>

<p>
<b>发布相关的命令：</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">命令</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c C-e C</td>
<td class="org-left">提示指明一个项目，将所有的文件发布</td>
</tr>

<tr>
<td class="org-left">C-c C-e P</td>
<td class="org-left">发布包含当前文件的项目</td>
</tr>

<tr>
<td class="org-left">C-c C-e F</td>
<td class="org-left">只发布当前文件</td>
</tr>

<tr>
<td class="org-left">C-c C-e E</td>
<td class="org-left">发布所有项目</td>
</tr>
</tbody>
</table>

<p>
Org 用时间戳来查看文件是否改变。上面的命令只发布修改过的文件。你可以给它们加上前缀来强制重新发布所有的文件。
</p>
</div>
</div>
</div>
